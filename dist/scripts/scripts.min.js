"use strict";document.addEventListener("DOMContentLoaded",function(e){WPPrimaryCategory.init()});var observeDOM=function(){var e=window.MutationObserver||window.WebKitMutationObserver,t=window.addEventListener;return function(n,r){if(e){var o=new e(function(e,t){e[0].addedNodes.length&&r(e)});o.observe(n,{childList:!0,subtree:!0})}else t&&(n.addEventListener("DOMNodeInserted",r,!1),n.addEventListener("DOMNodeRemoved",r,!1))}}(),WPPrimaryCategory=function(){var e=void 0,t=void 0,n=function(e){e.stopPropagation();var t=e.target,n=e.target.parentElement.innerText.trim(),r=t.value;t.checked?o(n,r):i(r)},r=function(){observeDOM(document.querySelector("#categorychecklist"),function(e){var t=e[0].addedNodes[0],r=t.querySelector("input"),i=r.value,a=t.querySelector("label").innerText;r.addEventListener("change",n),o(a,i)})},o=function(e,n){var r=document.createElement("option");r.text=e,r.value=n,t.appendChild(r)},i=function(e){var n=document.querySelector('#wp-primary-category-select option[value="'+e+'"]');t.removeChild(n)},a=function(){e=Array.from(document.querySelectorAll("#categorychecklist li, #categorychecklist-pop li")),e.map(function(e){return e.addEventListener("change",n)})},c=function(){t=document.querySelector("#wp-primary-category-select")},d=function(){a(),r(),c()};return{init:d}}();